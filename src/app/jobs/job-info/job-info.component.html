<div *appLoading="isLoading">
  <anms-error-message *ngIf="isErrorOccured" [message]="error" (retry)="fetch()"></anms-error-message>

  <form [formGroup]="form" class="margin-30 vertical-gap-30">
    <mat-card class="vertical-gap-20">
      <mat-card-title class="fx-row fx-spacebetween-center">
        <h1>جزئیات شغل</h1>

        <button mat-raised-button type="button" (click)="toggleStatus()" [color]="status === JobStatus.Open ? 'warn' : 'primary'" >
          <span *ngIf="status === JobStatus.Close">انتشار موقعیت شغلی</span>
          <span *ngIf="status === JobStatus.Open">پنهان کردن موقعیت شغلی</span>
        </button>
      </mat-card-title>

      <mat-card-content>
        <anms-job-info-form [form]="form"></anms-job-info-form>
      </mat-card-content>
    </mat-card>

    <mat-card class="vertical-gap-20">
      <mat-card-title>
        شرح موقعیت شغلی
      </mat-card-title>

      <mat-card-content>
        <anms-job-description-form [form]="form"></anms-job-description-form>
      </mat-card-content>
    </mat-card>

    <div class="text-center">
      <button mat-raised-button type="button" color="accent" (click)="save()" [disabled]="form.invalid">
        ذخیره تغییرات
      </button>
    </div>
  </form>
</div>
